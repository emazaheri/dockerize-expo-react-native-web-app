{"ast":null,"code":"import{types}from\"mobx-state-tree\";import{withSetPropAction}from\"./helpers/withSetPropAction\";import{formatDate}from\"../utils/formatDate\";import{translate}from\"../i18n\";export var EpisodeModel=types.model(\"Episode\").props({guid:types.identifier,title:\"\",pubDate:\"\",link:\"\",author:\"\",thumbnail:\"\",description:\"\",content:\"\",enclosure:types.frozen(),categories:types.array(types.string)}).actions(withSetPropAction).views(function(episode){return{get parsedTitleAndSubtitle(){var _episode$title;var defaultValue={title:(_episode$title=episode.title)==null?void 0:_episode$title.trim(),subtitle:\"\"};if(!defaultValue.title)return defaultValue;var titleMatches=defaultValue.title.match(/^(RNR.*\\d)(?: - )(.*$)/);if(!titleMatches||titleMatches.length!==3)return defaultValue;return{title:titleMatches[1],subtitle:titleMatches[2]};},get datePublished(){try{var formatted=formatDate(episode.pubDate);return{textLabel:formatted,accessibilityLabel:translate(\"demoPodcastListScreen.accessibility.publishLabel\",{date:formatted})};}catch(error){return{textLabel:\"\",accessibilityLabel:\"\"};}},get duration(){var seconds=Number(episode.enclosure.duration);var h=Math.floor(seconds/3600);var m=Math.floor(seconds%3600/60);var s=Math.floor(seconds%3600%60);var hDisplay=h>0?h+\":\":\"\";var mDisplay=m>0?m+\":\":\"\";var sDisplay=s>0?s:\"\";return{textLabel:hDisplay+mDisplay+sDisplay,accessibilityLabel:translate(\"demoPodcastListScreen.accessibility.durationLabel\",{hours:h,minutes:m,seconds:s})};}};});","map":{"version":3,"names":["types","withSetPropAction","formatDate","translate","EpisodeModel","model","props","guid","identifier","title","pubDate","link","author","thumbnail","description","content","enclosure","frozen","categories","array","string","actions","views","episode","parsedTitleAndSubtitle","_episode$title","defaultValue","trim","subtitle","titleMatches","match","length","datePublished","formatted","textLabel","accessibilityLabel","date","error","duration","seconds","Number","h","Math","floor","m","s","hDisplay","mDisplay","sDisplay","hours","minutes"],"sources":["/home/ehsan/dockerize-expo-rn-web-app/PizzaApp/app/models/Episode.ts"],"sourcesContent":["import { Instance, SnapshotIn, SnapshotOut, types } from \"mobx-state-tree\"\nimport { withSetPropAction } from \"./helpers/withSetPropAction\"\nimport { formatDate } from \"../utils/formatDate\"\nimport { translate } from \"../i18n\"\n\ninterface Enclosure {\n  link: string\n  type: string\n  length: number\n  duration: number\n  rating: { scheme: string; value: string }\n}\n\n/**\n * This represents an episode of React Native Radio.\n */\nexport const EpisodeModel = types\n  .model(\"Episode\")\n  .props({\n    guid: types.identifier,\n    title: \"\",\n    pubDate: \"\", // Ex: 2022-08-12 21:05:36\n    link: \"\",\n    author: \"\",\n    thumbnail: \"\",\n    description: \"\",\n    content: \"\",\n    enclosure: types.frozen<Enclosure>(),\n    categories: types.array(types.string),\n  })\n  .actions(withSetPropAction)\n  .views((episode) => ({\n    get parsedTitleAndSubtitle() {\n      const defaultValue = { title: episode.title?.trim(), subtitle: \"\" }\n\n      if (!defaultValue.title) return defaultValue\n\n      const titleMatches = defaultValue.title.match(/^(RNR.*\\d)(?: - )(.*$)/)\n\n      if (!titleMatches || titleMatches.length !== 3) return defaultValue\n\n      return { title: titleMatches[1], subtitle: titleMatches[2] }\n    },\n    get datePublished() {\n      try {\n        const formatted = formatDate(episode.pubDate)\n        return {\n          textLabel: formatted,\n          accessibilityLabel: translate(\"demoPodcastListScreen.accessibility.publishLabel\", {\n            date: formatted,\n          }),\n        }\n      } catch (error) {\n        return { textLabel: \"\", accessibilityLabel: \"\" }\n      }\n    },\n    get duration() {\n      const seconds = Number(episode.enclosure.duration)\n      const h = Math.floor(seconds / 3600)\n      const m = Math.floor((seconds % 3600) / 60)\n      const s = Math.floor((seconds % 3600) % 60)\n\n      const hDisplay = h > 0 ? `${h}:` : \"\"\n      const mDisplay = m > 0 ? `${m}:` : \"\"\n      const sDisplay = s > 0 ? s : \"\"\n      return {\n        textLabel: hDisplay + mDisplay + sDisplay,\n        accessibilityLabel: translate(\"demoPodcastListScreen.accessibility.durationLabel\", {\n          hours: h,\n          minutes: m,\n          seconds: s,\n        }),\n      }\n    },\n  }))\n\nexport interface Episode extends Instance<typeof EpisodeModel> {}\nexport interface EpisodeSnapshotOut extends SnapshotOut<typeof EpisodeModel> {}\nexport interface EpisodeSnapshotIn extends SnapshotIn<typeof EpisodeModel> {}\n\n// @demo remove-file\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}