{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from\"react\";import{ErrorDetails}from\"./ErrorDetails\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ErrorBoundary=function(_Component){_inherits(ErrorBoundary,_Component);var _super=_createSuper(ErrorBoundary);function ErrorBoundary(){var _this;_classCallCheck(this,ErrorBoundary);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null,errorInfo:null};_this.resetError=function(){_this.setState({error:null,errorInfo:null});};return _this;}_createClass(ErrorBoundary,[{key:\"componentDidCatch\",value:function componentDidCatch(error,errorInfo){if(!this.isEnabled()){return;}this.setState({error:error,errorInfo:errorInfo});}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return nextState.error!==this.state.error;}},{key:\"isEnabled\",value:function isEnabled(){return this.props.catchErrors===\"always\"||this.props.catchErrors===\"dev\"&&__DEV__||this.props.catchErrors===\"prod\"&&!__DEV__;}},{key:\"render\",value:function render(){return this.isEnabled()&&this.state.error?_jsx(ErrorDetails,{onReset:this.resetError,error:this.state.error,errorInfo:this.state.errorInfo}):this.props.children;}}]);return ErrorBoundary;}(Component);","map":{"version":3,"names":["React","Component","ErrorDetails","jsx","_jsx","ErrorBoundary","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","error","errorInfo","resetError","setState","_createClass","key","value","componentDidCatch","isEnabled","shouldComponentUpdate","nextProps","nextState","props","catchErrors","__DEV__","render","onReset","children"],"sources":["/home/ehsan/dockerize-expo-rn-web-app/PizzaApp/app/screens/ErrorScreen/ErrorBoundary.tsx"],"sourcesContent":["import React, { Component, ErrorInfo, ReactNode } from \"react\"\nimport { ErrorDetails } from \"./ErrorDetails\"\n\ninterface Props {\n  children: ReactNode\n  catchErrors: \"always\" | \"dev\" | \"prod\" | \"never\"\n}\n\ninterface State {\n  error: Error | null\n  errorInfo: ErrorInfo | null\n}\n\n/**\n * This component handles whenever the user encounters a JS error in the\n * app. It follows the \"error boundary\" pattern in React. We're using a\n * class component because according to the documentation, only class\n * components can be error boundaries.\n *\n * - [Documentation and Examples](https://github.com/infinitered/ignite/blob/master/docs/Error-Boundary.md)\n * - [React Error Boundaries](https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary)\n */\nexport class ErrorBoundary extends Component<Props, State> {\n  state = { error: null, errorInfo: null }\n\n  // If an error in a child is encountered, this will run\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Only set errors if enabled\n    if (!this.isEnabled()) {\n      return\n    }\n    // Catch errors in any components below and re-render with error message\n    this.setState({\n      error,\n      errorInfo,\n    })\n\n    // You can also log error messages to an error reporting service here\n    // This is a great place to put BugSnag, Sentry, crashlytics, etc:\n    // reportCrash(error)\n  }\n\n  // Reset the error back to null\n  resetError = () => {\n    this.setState({ error: null, errorInfo: null })\n  }\n\n  // To avoid unnecessary re-renders\n  shouldComponentUpdate(nextProps: Readonly<Props>, nextState: Readonly<State>): boolean {\n    return nextState.error !== this.state.error\n  }\n\n  // Only enable if we're catching errors in the right environment\n  isEnabled(): boolean {\n    return (\n      this.props.catchErrors === \"always\" ||\n      (this.props.catchErrors === \"dev\" && __DEV__) ||\n      (this.props.catchErrors === \"prod\" && !__DEV__)\n    )\n  }\n\n  // Render an error UI if there's an error; otherwise, render children\n  render() {\n    return this.isEnabled() && this.state.error ? (\n      <ErrorDetails\n        onReset={this.resetError}\n        error={this.state.error}\n        errorInfo={this.state.errorInfo}\n      />\n    ) : (\n      this.props.children\n    )\n  }\n}\n"],"mappings":"qgCAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAA8B,OAAO,CAC9D,OAASC,YAAY,sBAAwB,OAAAC,GAAA,IAAAC,IAAA,yBAqB7C,UAAa,CAAAC,aAAa,UAAAC,UAAA,EAAAC,SAAA,CAAAF,aAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,aAAA,WAAAA,cAAA,MAAAK,KAAA,CAAAC,eAAA,MAAAN,aAAA,UAAAO,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAC,IAAA,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAAF,IAAA,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GAAAP,KAAA,CAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,QAAAY,MAAA,CAAAL,IAAA,GAAAL,KAAA,CACxBW,KAAK,CAAG,CAAEC,KAAK,CAAE,IAAI,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAAb,KAAA,CAoBxCc,UAAU,CAAG,UAAM,CACjBd,KAAA,CAAKe,QAAQ,CAAC,CAAEH,KAAK,CAAE,IAAI,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC,CACjD,CAAC,QAAAb,KAAA,EAAAgB,YAAA,CAAArB,aAAA,GAAAsB,GAAA,qBAAAC,KAAA,CAnBD,SAAAC,kBAAkBP,KAAY,CAAEC,SAAoB,CAAE,CAEpD,GAAI,CAAC,IAAI,CAACO,SAAS,CAAC,CAAC,CAAE,CACrB,OACF,CAEA,IAAI,CAACL,QAAQ,CAAC,CACZH,KAAK,CAALA,KAAK,CACLC,SAAS,CAATA,SACF,CAAC,CAAC,CAKJ,CAAC,GAAAI,GAAA,yBAAAC,KAAA,CAQD,SAAAG,sBAAsBC,SAA0B,CAAEC,SAA0B,CAAW,CACrF,MAAO,CAAAA,SAAS,CAACX,KAAK,GAAK,IAAI,CAACD,KAAK,CAACC,KAAK,CAC7C,CAAC,GAAAK,GAAA,aAAAC,KAAA,CAGD,SAAAE,UAAA,CAAqB,CACnB,MACE,KAAI,CAACI,KAAK,CAACC,WAAW,GAAK,QAAQ,EAClC,IAAI,CAACD,KAAK,CAACC,WAAW,GAAK,KAAK,EAAIC,OAAQ,EAC5C,IAAI,CAACF,KAAK,CAACC,WAAW,GAAK,MAAM,EAAI,CAACC,OAAQ,CAEnD,CAAC,GAAAT,GAAA,UAAAC,KAAA,CAGD,SAAAS,OAAA,CAAS,CACP,MAAO,KAAI,CAACP,SAAS,CAAC,CAAC,EAAI,IAAI,CAACT,KAAK,CAACC,KAAK,CACzClB,IAAA,CAACF,YAAY,EACXoC,OAAO,CAAE,IAAI,CAACd,UAAW,CACzBF,KAAK,CAAE,IAAI,CAACD,KAAK,CAACC,KAAM,CACxBC,SAAS,CAAE,IAAI,CAACF,KAAK,CAACE,SAAU,CACjC,CAAC,CAEF,IAAI,CAACW,KAAK,CAACK,QACZ,CACH,CAAC,WAAAlC,aAAA,GAlDgCJ,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}